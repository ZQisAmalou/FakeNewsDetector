# FakeNewsDetector 产品报告

## 产品功能介绍

本项目是一款用于检测媒体内容真实性的安卓应用程序。用户可以通过登录系统，输入文本内容，应用将对其进行分析，判断是否为 AI 生成。应用界面友好，采用了 Android 原生的界面框架，提供了直观的操作体验。实时检测使用了智谱提供的免费 API：`glm-4-flash`。由于模型大小限制，目前仅支持对文本内容的实时 AI 检测。同时，应用还提供了历史记录功能，用户可以查看自己的检测历史，包括检测类型、结果和时间，方便管理和追踪。

## 程序概要设计

1. **用户模块**：提供用户注册和登录功能，确保只有经过认证的用户才能使用应用。用户信息通过 SQLite 数据库进行存储，保证了数据的持久化。

2. **文本检测模块**：用户可以输入要检测的文本，应用调用智谱 AI 的 API，对文本内容进行分析，判断其是否为 AI 生成。使用了网络请求技术（如 OkHttp 库）实现与云端服务的通信，并通过协程进行异步处理，提升了应用的响应速度。

3. **媒体检测模块**：提供图片、视频和音频的检测功能。受限于 API，目前这些功能为占位实现，使用随机结果模拟，未来可参考文本检测模块扩展为实际的媒体内容检测。

4. **历史记录模块**：记录用户的每次检测操作，包括检测类型、内容、结果和时间戳，方便用户查询。历史记录信息存储在 SQLite 数据库中，并通过 `RecyclerView` 实现高效展示。

5. **数据库模块**：使用 SQLite 数据库存储用户信息和检测历史，通过 `DatabaseHelper` 类进行数据库操作，实现了数据的增删改查。

## 软件架构

应用采用经典的 MVC（模型-视图-控制器）架构：

- **模型层（Model）**：负责数据处理和存储，包括用户信息和检测历史记录。利用 SQLite 数据库进行本地存储，确保数据持久化。

- **视图层（View）**：提供用户界面，包含登录页面、主功能页面和历史记录页面等。界面设计简洁明了，使用了 Android 原生的界面框架，保障了应用的稳定性和流畅性。

- **控制器层（Controller）**：处理用户交互逻辑，响应用户操作并更新视图。如在 `HistoryActivity` 中，通过 `RecyclerView` 展示历史记录，并使用 `HistoryAdapter` 适配器，实现了高效的数据加载和展示。

![structure](image\structure.png)

## 技术亮点及其实现原理

1. **文本内容检测**：利用 `FakeNewsDetector.detectFakeText` 方法，应用调用智谱 AI 的 API 对用户输入的文本进行分析。通过 OkHttp 库实现网络通信，获取模型的检测结果，包括结论、置信度和分析依据，为用户提供详细的判断信息。

2. **网络请求与异步处理**：在文本检测过程中，采用协程进行异步网络请求，避免阻塞主线程，提高了应用的响应速度和用户体验。

3. **本地数据存储**：使用 SQLite 数据库进行数据存储，通过 `DatabaseHelper` 类，对用户信息和历史记录进行有效管理，满足了存储技术的要求。

4. **历史记录展示优化**：使用 `RecyclerView` 和自定义的 `HistoryAdapter`，高效地显示用户的检测历史。对于大量历史记录，`RecyclerView` 的可回收机制有效提升了性能，避免了卡顿现象。

5. **性能优化与资源管理**：在文本内容分析时，采用协程进行异步处理，避免阻塞主线程。通过合理的内存管理和资源释放，防止了资源泄露，确保了应用的稳定运行，无明显资源泄露。

## 未来工作

- **用户密码安全**：目前，用户密码以明文形式存储在 SQLite 数据库中，存在安全隐患。后续可使用哈希算法对密码进行加密存储，增强用户信息的安全性。

- **媒体检测功能完善**：当前的图片、视频和音频检测功能为占位实现，使用随机结果模拟。未来可接入实际的媒体内容检测 API，完善功能，提高应用的实用性。

- **实时监听**：目前程序只能由用户主动使用，实用性欠佳。未来希望能够集成到操作系统中，对于诈骗电话、短信等，软件能够后台监听，识别出 AI 生成的文本、图片、语音等，给用户提供警告，从而防范 AI 生成内容诈骗。